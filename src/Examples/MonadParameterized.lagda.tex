\begin{code}
module Examples.MonadParameterized where
open import Data.Bool using (Bool ; false ; true)
open import Data.Nat using (ℕ ; zero ; suc)
open import Relation.Binary.PropositionalEquality using (_≡_ ; refl)

infixl 1 _>>=_
\end{code}

%<*Monad'>
\begin{code}
data MonadParam' : {p q : Set} → Set → p → q → Set₁ where
    return : ∀ {A B} → {pre : B} → A → MonadParam' A pre pre
    _>>=_ : ∀ {A B X Y Z} → {pre : X} → {mid : Y} → {post : Z} →
            MonadParam' A pre mid →
            (A → MonadParam' B mid post) →
            MonadParam' B pre post
\end{code}
%</Monad'>

%<*Monad>
\begin{code}
data MonadParam : {p q : Set} → (A : Set) → p → (A → q) → Set₁ where
    return : {A S : Set} → {post : A → S} → (val : A) → MonadParam A (post val) post
    _>>=_ : ∀ {A B X Y Z} → {pre : X} → {mid : A → Y} → {post : B → Z} →
                MonadParam A pre mid →
                ((x : A) → MonadParam B (mid x) post) →
                MonadParam B pre post
\end{code}
%</Monad>
